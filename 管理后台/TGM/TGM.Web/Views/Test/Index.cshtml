@{
    ViewBag.Title = "注册";
}
@using TGM.API.Entity.Model
@{
    var list_platform = ViewBag.Platform as List<Platform>;
}
<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!-->
<html lang="en">
<!--<![endif]-->
<!-- BEGIN HEAD -->
<head>
    <meta charset="utf-8" />
    <title>注册</title>
    <meta content="width=device-width, initial-scale=1.0" name="viewport" />
    <meta content="" name="description" />
    <meta content="" name="author" />
    <link href="~/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
    <link href="~/assets/bootstrap/css/bootstrap-responsive.min.css" rel="stylesheet" />
    <link href="~/assets/bootstrap/css/bootstrap-fileupload.css" rel="stylesheet" />
    <link href="~/assets/font-awesome/css/font-awesome.css" rel="stylesheet" />
    <link href="~/css/style.css" rel="stylesheet" />
    <link href="~/css/style-responsive.css" rel="stylesheet" />
    <link href="~/css/style-default.css" rel="stylesheet" id="style_color" />
    <link href="~/assets/fancybox/source/jquery.fancybox.css" rel="stylesheet" />
    <link href="~/assets/uniform/css/uniform.default.css" rel="stylesheet" type="text/css" />


</head>
<!-- END HEAD -->
<!-- BEGIN BODY -->
<body class="fixed-top">
    <!-- BEGIN CONTAINER -->
    <!-- BEGIN PAGE CONTENT-->
    <!-- BEGIN VALIDATION STATES-->
    <div class="widget red">

        <div class="widget-body form">
            <!-- BEGIN FORM-->
            @using (Html.BeginForm("Index", "Test", FormMethod.Post))
            {
                <div class="control-group success">
                    <label class="control-label">所属平台</label>
                    <div class="controls">
                        <select class="input-xlarge" tabindex="1" name="d_1" id="d_1">
                            @foreach (var item in list_platform)
                            {
                                <option value="@item.id">@item.name</option>
                            }
                        </select>
                    </div>
                </div>
                <div class="control-group success">
                    <label class="control-label">所属平台</label>
                    <div class="controls">
                        <select class="input-xlarge" tabindex="1" name="d_2" id="d_2"></select>
                    </div>
                </div>
                <div class="control-group success">
                    <label class="control-label" for="inputSuccess">@Html.Label("输入框1")</label>
                    <div class="controls">
                        <input type="text" class="input-xlarge" id="t_1" name="t_1" />
                    </div>
                </div>
                <div class="control-group success">
                    <label class="control-label" for="inputSuccess">@Html.Label("输入框2")</label>
                    <div class="controls">
                        <input type="text" class="input-xlarge" id="t_2" name="t_2" />
                    </div>
                </div>
                <div class="control-group success">
                    <label class="control-label" for="inputSuccess">@Html.Label("输入框3")</label>
                    <div class="controls">
                        <input type="text" class="input-xlarge" id="t_3" name="t_3" />
                    </div>
                </div>


                <div class="form-actions">
                    <button type="submit" class="btn btn-success">Save</button>
                    <button type="button" class="btn">Cancel</button>
                </div>

            }
            <!-- END FORM-->
        </div>
        <div class="widget-body form">
            <a href="Test/Excel" class="btn">导出Excel</a>
        </div>
        <div>
            <input type="hidden" id="h_v_1" value="" />
            <select class="input-xlarge" tabindex="1" name="m_1" id="m_1">
                <option value="0">请选择</option>
                <option value="1">元宝</option>
                <option value="2">金钱</option>
                <option value="3">道具</option>
                <option value="4">装备</option>
            </select>
            <input type="text" id="m_v_1_1" name="m_v_1_1" value="1" style="display:none;" />
            <input type="text" id="m_v_1_2" name="m_v_1_2" value="2" style="display:none;" />
            <input type="text" id="m_v_1_3" name="m_v_1_3" value="3" style="display:none;" />
        </div>
        <div>
            <input type="hidden" id="h_v_1" value="" />
            <select class="input-xlarge" tabindex="1" name="m_2" id="m_2">
                <option value="0">请选择</option>
                <option value="1">元宝</option>
                <option value="2">金钱</option>
                <option value="3">道具</option>
                <option value="4">装备</option>
            </select>
            <input type="text" id="m_v_2_1" name="m_v_2_1" value="1" style="display:none;" />
            <input type="text" id="m_v_2_2" name="m_v_2_2" value="2" style="display:none;" />
            <input type="text" id="m_v_2_3" name="m_v_2_3" value="3" style="display:none;" />
        </div>
        
    </div>
    <!-- END VALIDATION STATES-->
    <!-- END PAGE CONTENT-->
    <!-- END CONTAINER -->
    <!-- BEGIN FOOTER -->
    <div id="footer">
        2013 &copy; Metro Lab Dashboard.
    </div>
    <!-- END FOOTER -->
    <!-- BEGIN JAVASCRIPTS -->
    <!-- Load javascripts at bottom, this will reduce page load time -->
    <script src="~/js/jquery-1.8.3.min.js"></script>
    <script src="~/js/jquery.nicescroll.js" type="text/javascript"></script>
    <script src="~/assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="~/assets/bootstrap-wizard/jquery.bootstrap.wizard.min.js"></script>
    <script src="~/js/jquery.blockui.js"></script>
    <!-- ie8 fixes -->
    <!--[if lt IE 9]>
    <script src="~/js/excanvas.js"></script>
    <script src="~/js/respond.js"></script>
    <![endif]-->
    <script type="text/javascript" src="~/js/jquery.validate.min.js"></script>
    <script type="text/javascript" src="~/js/additional-methods.min.js"></script>
    <script type="text/javascript" src="~/assets/chosen-bootstrap/chosen/chosen.jquery.min.js"></script>
    <script type="text/javascript" src="~/assets/uniform/jquery.uniform.min.js"></script>
    <script src="~/js/jquery.scrollTo.min.js"></script>

    <!--common script for all pages-->
    <script src="~/js/common-scripts.js"></script>
    <!--script for this page-->
    <script src="~/js/form-validation-script.js"></script>

    <!-- END JAVASCRIPTS -->
    <script type="text/javascript">

        //绑定第一个下拉选择事件
        $("#d_1").change(function () {
            get_d_2();
        });

        //第一个下拉框选择后绑定第二个下拉框数据
        function get_d_2(obj) {
            $("#d_2").empty();                                  //清空第二个下拉框数据
            var sv = $("#d_1").find("option:selected").val();   //获取第一个下拉框选择内容 .val():下拉框value值 .text():下拉框显示值
            $.ajax({
                url: "/Common/AjaxServer?id=" + sv, //mvc请求地址
                type: "get",                    //ajax请求类型
                dataType: "json",               //请求返还数据格式
                success: function (r) {         //ajax请求成功数据处理
                    for (var n = 0; n < r.length; n++) {
                        var v = r[n].id;
                        var name = r[n].name;
                        $("#d_2").append("<option value='" + v + "'>" + name + "</option>");  //添加一项option
                    }
                }
            });
        }

    </script>
    <script type="text/javascript">
    //绑定第一个下拉选择事件
        $("#m_1").change(function () {
            reset_m_v();
        var v = $("#m_1").find("option:selected").val();
        if (v == "1") {
            $("#m_v_1_1").css('display', 'block');
        }
        else if (v == "2") {
            $("#m_v_1_1").css('display', 'block');
            $("#m_v_1_2").css('display', 'block');
        }
        else if (v == "3") {
            $("#m_v_1_1").css('display', 'block');
        }
        else if (v == "4") {
            $("#m_v_1_1").css('display', 'block');
            $("#m_v_1_2").css('display', 'block');
            $("#m_v_1_3").css('display', 'block');
        }
    });
    function reset_m_v() {
        $("#m_v_1_1").css('display', 'none');
        $("#m_v_1_2").css('display', 'none');
        $("#m_v_1_3").css('display', 'none');
    };
    function reset_m_v_2() {
        $("#m_v_2_1").css('display', 'none');
        $("#m_v_2_2").css('display', 'none');
        $("#m_v_2_3").css('display', 'none');
    };
    $("#m_2").change(function () {
        reset_m_v_2();
        var v = $("#m_2").find("option:selected").val();
        if (v == "1") {
            $("#m_v_2_1").css('display', 'block');
            $("#m_v_2_2").css('display', 'block');
            $("#m_v_2_3").css('display', 'block');
        }
        else if (v == "2") {
            $("#m_v_2_1").css('display', 'block');
        }
        else if (v == "3") {
            $("#m_v_2_1").css('display', 'block');
            $("#m_v_2_2").css('display', 'block');
        }
        else if (v == "4") {
            $("#m_v_2_1").css('display', 'block');
            $("#m_v_2_2").css('display', 'block');
            $("#m_v_2_3").css('display', 'block');
        }
    });
    </script>

</body>
<!-- END BODY -->
</html>
